# æ•°æ®æ¹–å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ - å½“å‰å®ç°æ¶æ„å›¾

> æœ€æ–°æ›´æ–°: 2025-08-06 | å®Œæ•´æŠ€æœ¯æ¶æ„ | JOIN/UNIONåŒæµç¨‹

## ğŸ—ï¸ ç³»ç»Ÿæ€»ä½“æ¶æ„ï¼ˆå®é™…å®ç°ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®æ¹–å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ v2.0                             â”‚
â”‚                    (ä¼˜åŒ–ä¸‰å±‚åŠ é€Ÿæ¶æ„)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ¥å…¥å±‚ (Access Layer)                          â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  run_cli.py â”‚       â”‚ API Server   â”‚        â”‚  Web UI     â”‚       â”‚
â”‚  â”‚    (CLI)    â”‚       â”‚  (FastAPI)   â”‚        â”‚  (Future)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                      â”‚                       â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                    â”‚   discover_data()      â”‚                         â”‚
â”‚                    â”‚  (Workflow Selector)   â”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                â”‚                                      â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚            â”‚                                        â”‚                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚     â”‚ Basic       â”‚                    â”‚ Optimized          â”‚        â”‚
â”‚     â”‚ Workflow    â”‚                    â”‚ Workflow           â”‚        â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              âš¡ ä¼˜åŒ–å·¥ä½œæµä¸‰å±‚åŠ é€Ÿæ¶æ„ (Production)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ç¬¬ä¸€å±‚ï¼šå…ƒæ•°æ®é¢„ç­›é€‰ (<100ms)                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚              MetadataFilter                         â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - é¢†åŸŸåˆ†ç±»ç´¢å¼• (user/order/product/log)            â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - è¡¨å¤§å°/åˆ—æ•°ç´¢å¼•                                  â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - å‘½åæ¨¡å¼åŒ¹é…                                     â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - 10,000è¡¨ â†’ 1,000è¡¨                              â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ç¬¬äºŒå±‚ï¼šå‘é‡ç²—ç­›é€‰ (<500ms)                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚           BatchVectorSearch                         â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - HNSWç´¢å¼• (M=32, ef=10)                          â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - æ‰¹é‡åµŒå…¥ç”Ÿæˆ                                     â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - å¹¶è¡Œæœç´¢æ‰§è¡Œ                                     â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - 1,000è¡¨ â†’ 100è¡¨                                 â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ç¬¬ä¸‰å±‚ï¼šæ™ºèƒ½LLMåŒ¹é… (2-5ç§’)                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚           SmartLLMMatcher                           â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - è§„åˆ™é¢„åˆ¤ (90%+ç›¸ä¼¼åº¦)                            â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - æ‰¹é‡LLMéªŒè¯ (TOP-20)                            â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - ç»“æœç¼“å­˜                                        â”‚     â”‚  â”‚
â”‚  â”‚  â”‚  - 100è¡¨ â†’ 10è¡¨ (æœ€ç»ˆç»“æœ)                         â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ¤– å¤šæ™ºèƒ½ä½“åä½œå±‚ (LangGraph)                      â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      PlannerAgent                               â”‚ â”‚
â”‚  â”‚               (ä»»åŠ¡ç†è§£ & ç­–ç•¥è·¯ç”±)                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚                                            â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚        â”‚                                 â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ BOTTOM_UP  â”‚                   â”‚  TOP_DOWN  â”‚                    â”‚
â”‚  â”‚  Strategy  â”‚                   â”‚  Strategy  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚       â”‚                                  â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ColumnDiscovery  â”‚            â”‚ TableDiscovery â”‚                  â”‚
â”‚  â”‚     Agent       â”‚            â”‚     Agent      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚       â”‚                                  â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚TableAggregation â”‚            â”‚EnhancedTableMatchingâ”‚              â”‚
â”‚  â”‚     Agent       â”‚            â”‚       Agent        â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ”§ å·¥å…·å±‚ (Tools Layer)                         â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Data Parser â”‚  â”‚ Table Name   â”‚  â”‚  Embedding   â”‚               â”‚
â”‚  â”‚              â”‚  â”‚   Utils      â”‚  â”‚  Generator   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Data Indexer â”‚  â”‚ Value Search â”‚  â”‚ Performance  â”‚               â”‚
â”‚  â”‚              â”‚  â”‚   Engine     â”‚  â”‚   Monitor    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸ’¾ å­˜å‚¨å±‚ (Storage Layer)                         â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   MultiLevelCache                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚ â”‚
â”‚  â”‚  â”‚ L1 Memoryâ”‚  â”‚ L2 Redis â”‚  â”‚ L3 Disk  â”‚                      â”‚ â”‚
â”‚  â”‚  â”‚   (LRU)  â”‚  â”‚(Optional)â”‚  â”‚ (Pickle) â”‚                      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ FAISS/HNSW  â”‚  â”‚   Metadata   â”‚  â”‚   Vector     â”‚               â”‚
â”‚  â”‚    Index    â”‚  â”‚   Storage    â”‚  â”‚   Database   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸŒ å¤–éƒ¨æœåŠ¡å±‚ (External Services)                 â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Google Geminiâ”‚  â”‚   OpenAI     â”‚  â”‚  Anthropic   â”‚               â”‚
â”‚  â”‚  (Primary)   â”‚  â”‚  (Optional)  â”‚  â”‚  Claude      â”‚               â”‚
â”‚  â”‚  API Key     â”‚  â”‚              â”‚  â”‚  (Optional)  â”‚               â”‚
â”‚  â”‚  Manager     â”‚  â”‚              â”‚  â”‚              â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ JOIN/UNION åŒä»»åŠ¡æ•°æ®æµç¨‹

### ğŸ”¹ JOINä»»åŠ¡æµç¨‹ (è¡¨å¤´åŒ¹é…/åˆ—å…³è”)
```
è¾“å…¥: Table A, Column X (å¯»æ‰¾å¯è¿æ¥è¡¨)
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PlannerAgent (ç­–ç•¥: BOTTOM_UP)      â”‚
â”‚  â€¢ è¯†åˆ«JOINä»»åŠ¡ç±»å‹                           â”‚
â”‚  â€¢ æ¿€æ´»åˆ—çº§åˆ«ç²¾ç¡®åŒ¹é…ç­–ç•¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ColumnDiscoveryAgent               â”‚
â”‚  â€¢ åˆ—åç²¾ç¡®åŒ¹é… (user_id â†’ userid, uid)      â”‚
â”‚  â€¢ æ•°æ®ç±»å‹å…¼å®¹æ€§æ£€æŸ¥                         â”‚
â”‚  â€¢ å€¼åˆ†å¸ƒç›¸ä¼¼åº¦è®¡ç®—                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         TableAggregationAgent              â”‚
â”‚  â€¢ èšåˆåˆ—åŒ¹é…åˆ†æ•°                            â”‚
â”‚  â€¢ æƒé‡è®¡ç®— (å…³é”®åˆ—åŠ æƒ)                      â”‚
â”‚  â€¢ æ’åºå€™é€‰è¡¨                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ä¸‰å±‚åŠ é€Ÿæ¶æ„ (JOINä¼˜åŒ–å‚æ•°)                 â”‚
â”‚  â€¢ Metadata: max_candidates=70              â”‚
â”‚  â€¢ Vector: top_k=15, threshold=0.7          â”‚
â”‚  â€¢ LLM: max_candidates=3, early_stop=0.88   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
æœ€ç»ˆç»“æœ: customers.id (98%), orders.uid (92%)
æ€§èƒ½: Hit@5=14.3%, QPS=50-86
```

### ğŸ”¸ UNIONä»»åŠ¡æµç¨‹ (æ•°æ®å†…å®¹åŒ¹é…/è¯­ä¹‰ç›¸ä¼¼)
```
è¾“å…¥: Table Products (å¯»æ‰¾ç›¸ä¼¼å†…å®¹è¡¨)
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PlannerAgent (ç­–ç•¥: TOP_DOWN)       â”‚
â”‚  â€¢ è¯†åˆ«UNIONä»»åŠ¡ç±»å‹                          â”‚
â”‚  â€¢ æ¿€æ´»è¡¨çº§åˆ«è¯­ä¹‰æœç´¢ç­–ç•¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         TableDiscoveryAgent                â”‚
â”‚  â€¢ è¡¨åè¯­ä¹‰ç›¸ä¼¼åº¦ (products â†’ items, goods)  â”‚
â”‚  â€¢ æ•´ä½“ç»“æ„ç›¸ä¼¼åº¦è¯„ä¼°                         â”‚
â”‚  â€¢ æ•°æ®æ¨¡å¼è¯†åˆ«                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         TableMatchingAgent                 â”‚
â”‚  â€¢ æ·±åº¦å†…å®¹éªŒè¯                              â”‚
â”‚  â€¢ æ ·æœ¬æ•°æ®æ¯”å¯¹                              â”‚
â”‚  â€¢ ä¸šåŠ¡è¯­ä¹‰åˆ¤æ–­                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ä¸‰å±‚åŠ é€Ÿæ¶æ„ (UNIONä¼˜åŒ–å‚æ•°)                â”‚
â”‚  â€¢ Metadata: max_candidates=100             â”‚
â”‚  â€¢ Vector: top_k=25, threshold=0.6          â”‚
â”‚  â€¢ LLM: max_candidates=3, early_stop=0.95   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
æœ€ç»ˆç»“æœ: items (95%), goods (88%), inventory (82%)
æ€§èƒ½: Hit@5=47.7%, QPS=20-30
```

### 1ï¸âƒ£ åˆå§‹åŒ–æµç¨‹ï¼ˆå¿…é¡»å…ˆæ‰§è¡Œï¼‰
```
python init_vector_index.py
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataIndexer    â”‚
â”‚                 â”‚
â”‚ 1. åŠ è½½è¡¨æ•°æ®   â”‚
â”‚ 2. è§£ææ•°æ®æ ¼å¼ â”‚ â”€â”€â†’ parse_tables_data()
â”‚ 3. æ„å»ºå‘é‡ç´¢å¼• â”‚
â”‚ 4. ä¿å­˜åˆ°ç£ç›˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ç´¢å¼•æ–‡ä»¶åˆ›å»º
   data/vector_db/
   data/index_db/
```

### 2ï¸âƒ£ æŸ¥è¯¢æ‰§è¡Œæµç¨‹ï¼ˆä¼˜åŒ–è·¯å¾„ï¼‰
```
ç”¨æˆ·æŸ¥è¯¢ (CLI/API)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ discover_data() â”‚
â”‚                 â”‚
â”‚ 1. è§£æè¾“å…¥æ•°æ® â”‚ â”€â”€â†’ parse_tables_data()
â”‚ 2. æ ‡å‡†åŒ–è¡¨å   â”‚ â”€â”€â†’ normalize_table_name()
â”‚ 3. é€‰æ‹©å·¥ä½œæµ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    use_optimized=True
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OptimizedDataLakesWorkflowâ”‚
â”‚                         â”‚
â”‚ 1. åˆå§‹åŒ–ä¸‰å±‚ç»„ä»¶        â”‚
â”‚ 2. é¢„çƒ­ç¼“å­˜             â”‚
â”‚ 3. æ‰§è¡Œrun_optimized()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ä¸‰å±‚åŠ é€Ÿå¤„ç†
         â”‚
    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
    â”‚    â”‚    â”‚
    â–¼    â–¼    â–¼
 å…ƒæ•°æ® å‘é‡  LLM
 ç­›é€‰  æœç´¢  åŒ¹é…
    â”‚    â”‚    â”‚
    â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    AgentState
    (ç»“æœå¯¹è±¡)
```

## ğŸ“Š æ€§èƒ½ç›‘æ§æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PerformanceMonitor                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Layer    â”‚  â”‚  Query    â”‚  â”‚  Cache    â”‚  â”‚  Metrics  â”‚   â”‚
â”‚  â”‚  Timing   â”‚  â”‚  Tracking â”‚  â”‚  Hit Rate â”‚  â”‚  Export   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  å®æ—¶ç›‘æ§æŒ‡æ ‡:                                                  â”‚
â”‚  - æ¯å±‚å¤„ç†æ—¶é—´ (metadata/vector/llm)                          â”‚
â”‚  - æ€»æŸ¥è¯¢æ—¶é—´                                                  â”‚
â”‚  - LLMè°ƒç”¨æ¬¡æ•°                                                 â”‚
â”‚  - ç¼“å­˜å‘½ä¸­ç‡                                                  â”‚
â”‚  - QPS (æ¯ç§’æŸ¥è¯¢æ•°)                                            â”‚
â”‚  - P50/P90/P99å»¶è¿Ÿ                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ å…³é”®ç»„ä»¶æŠ€æœ¯å®ç°ç»†èŠ‚

### MetadataFilter (å…ƒæ•°æ®è¿‡æ»¤å™¨) - Layer 1
```python
æ ¸å¿ƒæŠ€æœ¯æ ˆ:
â”œâ”€â”€ LSHé¢„è¿‡æ»¤å™¨ (LakeBenché…ç½®)
â”‚   â€¢ num_hash_functions: 32
â”‚   â€¢ num_hash_tables: 4
â”‚   â€¢ bands: 8
â”‚   â€¢ similarity_threshold: 0.6
â”‚
â”œâ”€â”€ é¢†åŸŸåˆ†ç±»ç´¢å¼•
â”‚   â€¢ Domain Classification: user/order/product/log
â”‚   â€¢ Inverted Index: Whoosh
â”‚   â€¢ Pattern Recognition: Trieæ ‘ + Regex
â”‚
â”œâ”€â”€ ç»Ÿè®¡ç‰¹å¾ç´¢å¼•
â”‚   â€¢ Table Size Buckets: <1K/1-10K/>10K
â”‚   â€¢ Column Count Bins: 1-5/6-10/11-20/20+
â”‚   â€¢ Data Type Distribution
â”‚
â””â”€â”€ ä»»åŠ¡è‡ªé€‚åº”è°ƒèŠ‚
    â€¢ JOIN: max=70, threshold=0.5
    â€¢ UNION: max=100, threshold=0.35

æ€§èƒ½æŒ‡æ ‡:
- è¾“å…¥: 10,000+ è¡¨
- è¾“å‡º: 500-1,000 è¡¨ (90-95%å‡å°‘)
- å»¶è¿Ÿ: 5-10ms
- å¹¶è¡Œåº¦: 8çº¿ç¨‹
```

### BatchVectorSearch (æ‰¹é‡å‘é‡æœç´¢) - Layer 2
```python
æ ¸å¿ƒæŠ€æœ¯æ ˆ:
â”œâ”€â”€ HNSWç´¢å¼• (LakeBenchä¼˜åŒ–)
â”‚   â€¢ M: 48 (è¿æ¥æ•°)
â”‚   â€¢ ef_construction: 200
â”‚   â€¢ ef: 50 (æœç´¢å‚æ•°)
â”‚   â€¢ space: cosine
â”‚   â€¢ max_elements: 100,000
â”‚
â”œâ”€â”€ åµŒå…¥ç”Ÿæˆ
â”‚   â€¢ Model: sentence-transformers/all-MiniLM-L6-v2
â”‚   â€¢ Dimension: 384
â”‚   â€¢ Batch Size: 100
â”‚   â€¢ GPU Support: Optional (CUDA)
â”‚
â”œâ”€â”€ å¹¶è¡Œå¤„ç†
â”‚   â€¢ AsyncIO + ThreadPoolExecutor
â”‚   â€¢ max_workers: 8
â”‚   â€¢ Parallel Batch Processing
â”‚
â””â”€â”€ å‘é‡ä¼˜åŒ–
    â€¢ NumPy Vectorization
    â€¢ SIMD Instructions
    â€¢ Memory Alignment

æ€§èƒ½æŒ‡æ ‡:
- è¾“å…¥: 500-1,000 è¡¨
- è¾“å‡º: 15-50 è¡¨ (95-97%å‡å°‘)
- å»¶è¿Ÿ: 10-20ms
- ç¼“å­˜å‘½ä¸­ç‡: 30-50%
```

### SmartLLMMatcher (æ™ºèƒ½LLMåŒ¹é…) - Layer 3
```python
æ ¸å¿ƒæŠ€æœ¯æ ˆ:
â”œâ”€â”€ è§„åˆ™é¢„åˆ¤å¼•æ“
â”‚   â€¢ Early Stop: 0.88 (JOIN) / 0.95 (UNION)
â”‚   â€¢ Rule-based Fast Path (>90% similarity)
â”‚   â€¢ Schema Structure Check
â”‚   â€¢ Data Type Compatibility
â”‚
â”œâ”€â”€ LLMé…ç½®
â”‚   â€¢ Provider: Google Gemini 1.5 Flash
â”‚   â€¢ Batch Size: 10
â”‚   â€¢ Max Tokens: 1000
â”‚   â€¢ Temperature: 0
â”‚   â€¢ Timeout: 5s
â”‚   â€¢ Max Concurrent: 10
â”‚
â”œâ”€â”€ æ™ºèƒ½æˆªæ–­
â”‚   â€¢ Token Limit: 1000
â”‚   â€¢ Smart Truncation
â”‚   â€¢ Context Preservation
â”‚
â””â”€â”€ å¤šçº§ç¼“å­˜
    â€¢ L1 Memory (LRU): 1000 entries
    â€¢ L2 Redis: Optional
    â€¢ L3 Disk (Pickle): Persistent
    â€¢ Cache TTL: 3600s

æ€§èƒ½æŒ‡æ ‡:
- è¾“å…¥: 15-50 è¡¨
- è¾“å‡º: TOP-10 è¡¨
- å»¶è¿Ÿ: 10-30ms (with cache)
- LLMè°ƒç”¨: 1-3æ¬¡
```

### å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ (LangGraph)
```python
æŠ€æœ¯å®ç°:
â”œâ”€â”€ LangGraph 0.5.4
â”‚   â€¢ StateGraphçŠ¶æ€ç®¡ç†
â”‚   â€¢ Conditional Edgesè·¯ç”±
â”‚   â€¢ Async/Awaitå¼‚æ­¥æ‰§è¡Œ
â”‚   â€¢ Agent Checkpointing
â”‚
â”œâ”€â”€ Agenté€šä¿¡
â”‚   â€¢ AgentStateå…±äº«çŠ¶æ€
â”‚   â€¢ Message Passing
â”‚   â€¢ Event-drivenæ¶æ„
â”‚
â””â”€â”€ ç­–ç•¥æ¨¡å¼
    â€¢ BOTTOM_UP (JOIN): åˆ—â†’è¡¨èšåˆ
    â€¢ TOP_DOWN (UNION): è¡¨â†’æ·±åº¦éªŒè¯
```

### æ€§èƒ½ç›‘æ§ç³»ç»Ÿ (PerformanceMonitor)
```python
ç›‘æ§æŒ‡æ ‡:
â”œâ”€â”€ å®æ—¶æ€§èƒ½
â”‚   â€¢ QPS: JOIN 50-86, UNION 20-30
â”‚   â€¢ Latency P50/P90/P99: 0.01/0.03/0.05s
â”‚   â€¢ Layer Timing: 10ms/20ms/30ms
â”‚
â”œâ”€â”€ è´¨é‡æŒ‡æ ‡
â”‚   â€¢ Hit@1/3/5: å®æ—¶è®¡ç®—
â”‚   â€¢ Precision/Recall: æ‰¹æ¬¡ç»Ÿè®¡
â”‚   â€¢ F1-Score: è‡ªåŠ¨è®¡ç®—
â”‚
â””â”€â”€ èµ„æºä½¿ç”¨
    â€¢ Memory: ~4GB peak
    â€¢ CPU: 8 cores utilized
    â€¢ Network: <100KB/query
```

## ğŸš€ ä¼˜åŒ–æ•ˆæœä¸æ€§èƒ½å¯¹æ¯”

### ä¸‰å±‚åŠ é€Ÿæ•ˆæœåˆ†æ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ€§èƒ½æå‡å¯¹æ¯”åˆ†æ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  åŸºç¡€å·¥ä½œæµ                    ä¼˜åŒ–å·¥ä½œæµ (ä¸‰å±‚åŠ é€Ÿ)               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚
â”‚                                                                 â”‚
â”‚  æœç´¢ç­–ç•¥:                      æœç´¢ç­–ç•¥:                         â”‚
â”‚  â€¢ å…¨é‡æš´åŠ›æœç´¢                  â€¢ é€’è¿›å¼è¿‡æ»¤                      â”‚
â”‚  â€¢ 10,000è¡¨å…¨æ‰«æ               â€¢ 10,000â†’1,000â†’50â†’10             â”‚
â”‚                                                                 â”‚
â”‚  LLMè°ƒç”¨:                       LLMè°ƒç”¨:                         â”‚
â”‚  â€¢ 100-200æ¬¡/æŸ¥è¯¢               â€¢ 1-3æ¬¡/æŸ¥è¯¢ (æ‰¹é‡)               â”‚
â”‚  â€¢ æ— ç¼“å­˜                       â€¢ å¤šçº§ç¼“å­˜ (30-50%å‘½ä¸­)           â”‚
â”‚                                                                 â”‚
â”‚  å“åº”æ—¶é—´:                      å“åº”æ—¶é—´:                         â”‚
â”‚  â€¢ 15-30ç§’                     â€¢ 0.01-0.05ç§’                     â”‚
â”‚  â€¢ çº¿æ€§å¢é•¿ O(n)                â€¢ å¯¹æ•°å¢é•¿ O(log n)               â”‚
â”‚                                                                 â”‚
â”‚  èµ„æºæ¶ˆè€—:                      èµ„æºæ¶ˆè€—:                         â”‚
â”‚  â€¢ å†…å­˜: 8-16GB                â€¢ å†…å­˜: 2-4GB                      â”‚
â”‚  â€¢ CPU: 100%æŒç»­                â€¢ CPU: 20-40%å³°å€¼                 â”‚
â”‚  â€¢ APIè´¹ç”¨: $0.5-1/æŸ¥è¯¢         â€¢ APIè´¹ç”¨: $0.001-0.01/æŸ¥è¯¢       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®é™…æµ‹é‡ç»“æœ (1,534è¡¨æ•°æ®é›†)

#### JOINä»»åŠ¡æ€§èƒ½
```
æŒ‡æ ‡              ç›®æ ‡å€¼          å®é™…å€¼          çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥è¯¢å»¶è¿Ÿ          3-8ç§’          0.01-0.02ç§’     âœ… è¶…è¶Š400å€
QPS              10             50-86           âœ… è¶…è¶Š5-8å€
Hit@1            >50%           8.5%            âš ï¸ éœ€ä¼˜åŒ–
Hit@5            >70%           14.3%           âš ï¸ éœ€ä¼˜åŒ–
Precision@5      >0.5           0.059           âš ï¸ éœ€ä¼˜åŒ–
Recall@5         >0.5           0.075           âš ï¸ éœ€ä¼˜åŒ–
LLMè°ƒç”¨æ¬¡æ•°       <10            1-3             âœ… ä¼˜ç§€
ç¼“å­˜å‘½ä¸­ç‡        >30%           30-40%          âœ… è¾¾æ ‡
```

#### UNIONä»»åŠ¡æ€§èƒ½
```
æŒ‡æ ‡              ç›®æ ‡å€¼          å®é™…å€¼          çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥è¯¢å»¶è¿Ÿ          3-8ç§’          0.03-0.05ç§’     âœ… è¶…è¶Š160å€
QPS              10             20-30           âœ… è¶…è¶Š2-3å€
Hit@1            >50%           46.3%           âš ï¸ æ¥è¿‘ç›®æ ‡
Hit@5            >70%           47.7%           âš ï¸ éœ€ä¼˜åŒ–
Precision@5      >0.5           0.304           âš ï¸ éœ€ä¼˜åŒ–
Recall@5         >0.5           0.129           âš ï¸ éœ€ä¼˜åŒ–
LLMè°ƒç”¨æ¬¡æ•°       <10            1-3             âœ… ä¼˜ç§€
ç¼“å­˜å‘½ä¸­ç‡        >30%           40-50%          âœ… ä¼˜ç§€
```

### åŠ é€Ÿæ¯”åˆ†æ
```
å±‚çº§              å‡å°‘æ¯”ä¾‹        å»¶è¿Ÿ          åŠ é€Ÿæ¯”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Layer 1          90-95%         5-10ms        100x
(å…ƒæ•°æ®)          10Kâ†’1K

Layer 2          95-97%         10-20ms       20x
(å‘é‡)           1Kâ†’50

Layer 3          80%            10-30ms       5x
(LLM)            50â†’10

æ€»ä½“åŠ é€Ÿæ¯”: 100 Ã— 20 Ã— 5 = 10,000x (ç†è®º)
å®é™…åŠ é€Ÿæ¯”: 160-400x (å—é™äºå›ºå®šå¼€é”€)
```

## ğŸ› ï¸ å®Œæ•´ç³»ç»Ÿé…ç½®

### config.yml æ ¸å¿ƒé…ç½® (LakeBenché›†æˆ)
```yaml
# HNSWç´¢å¼•é…ç½® (LakeBenchä¼˜åŒ–å‚æ•°)
hnsw_config:
  M: 48                      # è¿æ¥æ•° (LakeBenchæ¨è)
  ef_construction: 200       # æ„å»ºå‚æ•°
  ef: 50                    # æœç´¢å‚æ•°
  max_elements: 100000      # æœ€å¤§å®¹é‡
  space: "cosine"           # è·ç¦»åº¦é‡

# LSHé¢„è¿‡æ»¤å™¨ (LakeBenchæ ‡å‡†)
lsh_prefilter:
  enabled: true
  num_hash_functions: 32
  num_hash_tables: 4
  bands: 8
  similarity_threshold: 0.6  # LakeBenché˜ˆå€¼
  max_candidates: 100

# æ€§èƒ½ä¼˜åŒ–é…ç½®
performance:
  optimized_workflow:
    # JOINä»»åŠ¡å‚æ•°
    join_config:
      metadata_filter_top_k: 70
      vector_search_top_k: 15
      llm_verify_top_k: 3
      early_stop_threshold: 0.88
    
    # UNIONä»»åŠ¡å‚æ•°
    union_config:
      metadata_filter_top_k: 100
      vector_search_top_k: 25
      llm_verify_top_k: 3
      early_stop_threshold: 0.95
    
    # æ‰¹å¤„ç†é…ç½®
    batch_embedding_size: 100
    batch_llm_size: 10
    
    # å¹¶è¡Œå¤„ç†
    max_workers: 8
    max_concurrent_requests: 10
    
    # ç¼“å­˜é…ç½®
    cache_warm_up_enabled: true
    hot_tables_count: 100

# å¤šçº§ç¼“å­˜
multi_level_cache:
  enabled: true
  l1_memory_size: 1000      # LRUç¼“å­˜
  l2_redis_enabled: false   # Rediså¯é€‰
  l3_disk_enabled: true     # ç£ç›˜æŒä¹…åŒ–
  cache_ttl: 3600          # 1å°æ—¶è¿‡æœŸ

# LLMé…ç½®
llm:
  provider: "gemini"
  model_name: "gemini-1.5-flash"
  temperature: 0
  max_tokens: 1000
  timeout: 5
```

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# LLM APIå¯†é’¥ (é€‰æ‹©ä¸€ä¸ª)
GEMINI_API_KEY=xxx        # æ¨è: Google Gemini
OPENAI_API_KEY=xxx        # å¤‡é€‰: OpenAI
ANTHROPIC_API_KEY=xxx     # å¤‡é€‰: Anthropic

# ç¦»çº¿æ¨¡å¼
TRANSFORMERS_OFFLINE=1    # ä½¿ç”¨æœ¬åœ°æ¨¡å‹
HF_DATASETS_OFFLINE=1     # ç¦»çº¿æ•°æ®é›†
TOKENIZERS_PARALLELISM=false

# æ€§èƒ½è°ƒä¼˜
LLM_TIMEOUT=5             # LLMè¶…æ—¶(ç§’)
LLM_MAX_RETRIES=1         # æœ€å¤§é‡è¯•æ¬¡æ•°
SKIP_LLM=false           # æ˜¯å¦è·³è¿‡LLMå±‚
```

### ç¡¬ä»¶è¦æ±‚
```yaml
æœ€ä½é…ç½®:
  CPU: 4 cores
  RAM: 8GB
  Storage: 50GB SSD
  Network: 100Mbps

æ¨èé…ç½®:
  CPU: 8+ cores
  RAM: 16-32GB
  Storage: 100GB SSD
  Network: 1Gbps
  GPU: Optional (CUDA for embeddings)

ç”Ÿäº§é…ç½®:
  CPU: 16+ cores
  RAM: 64GB
  Storage: 500GB NVMe SSD
  Network: 10Gbps
  GPU: NVIDIA T4/V100 (optional)
```

## ğŸ“ ç³»ç»Ÿå®æ–½çŠ¶æ€ä¸è·¯çº¿å›¾

### âœ… Phase 1: åŸºç¡€æ¶æ„ (100% å®Œæˆ)
- [x] LangGraphå¤šæ™ºèƒ½ä½“æ¡†æ¶
- [x] åŸºç¡€å·¥ä½œæµå®ç°
- [x] FAISSå‘é‡ç´¢å¼•
- [x] åŸºæœ¬LLMé›†æˆ
- [x] è¡¨ååŒ¹é…ä¿®å¤

### âœ… Phase 2: æ€§èƒ½åŠ é€Ÿ (90% å®Œæˆ)
- [x] ä¸‰å±‚åŠ é€Ÿæ¶æ„å®ç°
  - [x] MetadataFilter (LSH + é¢†åŸŸç´¢å¼•)
  - [x] BatchVectorSearch (HNSWä¼˜åŒ–)
  - [x] SmartLLMMatcher (æ‰¹é‡ + ç¼“å­˜)
- [x] LakeBenchå‚æ•°é›†æˆ
- [x] å¤šçº§ç¼“å­˜ç³»ç»Ÿ (L1/L2/L3)
- [x] å¹¶è¡Œå¤„ç†æ¡†æ¶ (8çº¿ç¨‹)
- [x] ä»»åŠ¡è‡ªé€‚åº”ä¼˜åŒ– (JOIN/UNION)
- [x] æ€§èƒ½ç›‘æ§ç³»ç»Ÿ
- [ ] JOINç²¾åº¦ä¼˜åŒ– (è¿›è¡Œä¸­)

### ğŸ“‹ Phase 3: è§„æ¨¡åŒ–éƒ¨ç½² (è®¡åˆ’ä¸­)
- [ ] åˆ†å¸ƒå¼ç´¢å¼•è®¾è®¡
- [ ] è´Ÿè½½å‡è¡¡å®ç°
- [ ] é«˜å¯ç”¨ä¿éšœ
- [ ] Dockerå®¹å™¨åŒ–
- [ ] Kubernetesç¼–æ’
- [ ] 10,000+è¡¨æµ‹è¯•

### ğŸ¯ å…³é”®æˆå°±
```
æŒ‡æ ‡              è®¾è®¡ç›®æ ‡        å½“å‰è¾¾æˆ         æå‡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥è¯¢é€Ÿåº¦          3-8ç§’          0.01-0.05ç§’      160-400x
QPS              10             50-86           5-8x
å¹¶å‘æŸ¥è¯¢          10             10              âœ…
ç³»ç»Ÿè§„æ¨¡          10,000è¡¨       1,534è¡¨(æµ‹è¯•)    å¯æ‰©å±•
LLMè°ƒç”¨           <10æ¬¡          1-3æ¬¡           3-10x
APIæˆæœ¬           $0.5/æŸ¥è¯¢      $0.001/æŸ¥è¯¢      500x
```

### âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹
1. **åˆå§‹åŒ–ç´¢å¼•**: å¿…é¡»å…ˆè¿è¡Œ `python init_vector_index.py`
2. **æ•°æ®æ ¼å¼**: è¡¨åå†…éƒ¨ç»Ÿä¸€ä¸å¸¦.csvæ‰©å±•å
3. **ä»»åŠ¡ç±»å‹**: JOINå’ŒUNIONä½¿ç”¨ä¸åŒä¼˜åŒ–å‚æ•°
4. **ç¼“å­˜é¢„çƒ­**: é¦–æ¬¡è¿è¡Œä¼šæ„å»ºç¼“å­˜ï¼Œåç»­æ›´å¿«
5. **å†…å­˜ä½¿ç”¨**: å¤§è§„æ¨¡æ•°æ®é›†éœ€è¦16GB+å†…å­˜

### ğŸ”§ å¿«é€Ÿå¼€å§‹
```bash
# 1. åˆå§‹åŒ–å‘é‡ç´¢å¼•
python init_vector_index.py

# 2. è¿è¡ŒJOINä»»åŠ¡è¯„ä¼°
python ultra_fast_evaluation_with_metrics.py --task join --dataset complete

# 3. è¿è¡ŒUNIONä»»åŠ¡è¯„ä¼°
python ultra_fast_evaluation_with_metrics.py --task union --dataset complete

# 4. æŸ¥çœ‹ç»“æœ
ls experiment_results/
```

è¿™æ˜¯ç³»ç»Ÿçš„å®Œæ•´æŠ€æœ¯æ¶æ„ï¼Œå±•ç¤ºäº†JOINå’ŒUNIONåŒä»»åŠ¡çš„æ•°æ®æµã€ä¸‰å±‚åŠ é€Ÿçš„æ‰€æœ‰æŠ€æœ¯ç»†èŠ‚ï¼Œä»¥åŠå½“å‰çš„å®æ–½çŠ¶æ€ã€‚